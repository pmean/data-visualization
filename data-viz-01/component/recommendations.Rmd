---
title: "Data-viz-01, Recommendations"
author: "Steve Simon"
output: powerpoint_presentation
---

```{r echo=FALSE}
knitr::opts_chunk$set(echo = FALSE)
source("../../common-files/src/setup.R")
```

### Recommendations
+ Solving problems with overprinting
+ Don't mix shape and size
+ Double up for emphasis
+ Shape is only good for categories
+ Size is only good for contiuous variables.

<div class="notes">

Here are some general recommendations for scatterplots.

First, if you have a lot of data, your scatterplot may look like a large black blob in one corner of your graph with a few stgray points in the other corners. Or it may look like a large elliptical blob in the center of the graph. Either way, there are several strategies to help you see patterns that might otherwise be lost with overprinting.

Another important lesson is to not let both the size and the shape aesthetic to vary within the same graph. At the same time, you can sometimes double up aesthetics, letting both the shape and the color, for example, to both represent the same variable.

The other important issue is that shape is a useful aesthetic only for categorical data, while size is only good for continuous variables.

</div>

### Solutions to excessive overprinting
+ Opacity
+ Small points
+ Open symbols
+ Log scale

<div class="notes">

The plots that you have drawn tend to have difficulty with overprinting. Too many data points crammed into a small area produces a large solid blob that is hard to interpret. There are three possible solutions: opacity, small points, and a log scale.

</div>

### Overprinting - opacity

```{r point-opacity}
fn <- "point-opacity"
png(filename=paste0("../images/", fn, ".png"))
ggplot(saratoga_houses, aes(x=Age, y=Price)) +
  geom_point(alpha=0.1, size=5)
quiet <- dev.off()
write(pd_text, file=paste0("../images/", fn, ".txt"))
```

![R graph using opacity](../images/point-opacity.png)

<div class="notes">

If you make the data points somewhat translucent, so that you can see what it behind it, this prevents a massive black blob from forming. You have to experiement a bit with the level of translucence.

</div>

### Overprinting - small points

```{r small-points}
fn <- "small-points"
png(filename=paste0("../images/", fn, ".png"))
ggplot(saratoga_houses, aes(x=Age, y=Price)) +
  geom_point(size=1)
quiet <- dev.off()
write(pd_text, file=paste0("../images/", fn, ".txt"))
```

![R graph using small points](../images/small-points.png)

<div class="notes">

Smaller data points have less trouble with overprinting.

</div>

### Overprinting - open symbols

```{r open-symbols}
fn <- "open-symbols"
png(filename=paste0("../images/", fn, ".png"))
ggplot(saratoga_houses, aes(x=Age, y=Price)) +
  geom_point(size=5, shape=1)
quiet <- dev.off()
write(pd_text, file=paste0("../images/", fn, ".txt"))
```

![R graph using open circles](../images/open-symbols.png)

<div class="notes">

Smaller data points have less trouble with overprinting.

</div>

### Overprinting - log scale

```{r point-log-scale}
fn <- "log-scale"
png(filename=paste0("../images/", fn, ".png"))
saratoga_houses$age_plus <- saratoga_houses$Age + runif(1057)
ggplot(saratoga_houses, aes(x=age_plus, y=Price)) +
  geom_point(size=5) +
  scale_x_log10() +
  scale_y_log10()
quiet <- dev.off()
write(pd_text, file=paste0("../images/", fn, ".txt"))
```

![R graph using log scales](../images/log-scale.png)

### Some tips
+ Don't try to squeeze in too much
+ Double up to emphasize
+ Shape is only good for categories
+ Shape and size don't mix

### Don't try to squeeze in too much.

```{r point-aesthetics-color-3}
fn <- "aesthetics-color-3"
png(filename=paste0("../images/", fn, ".png"))
saratoga_houses$age_plus <- saratoga_houses$Age + runif(1057)
binary_colors <- c("red", "red", "blue", "blue", "blue", "blue", "blue", "blue")
ggplot(saratoga_houses, aes(x=age_plus, y=Price)) +
  geom_point(aes(color=factor(Bathrooms)), size=1, alpha=0.1) +
  scale_x_log10() +
  scale_y_log10() +
  scale_color_manual(values=binary_colors)
quiet <- dev.off()
write(pd_text, file=paste0("../images/", fn, ".txt"))
```

![R graph using only two colors](../images/aesthetics-color-3.png)


### Double up to emphasize

```{r double-up}
fn <- "double-up"
png(filename=paste0("../images/", fn, ".png"))
saratoga_houses$age_plus <- saratoga_houses$Age + runif(1057)
binary_colors <- c("red", "red", "blue", "blue", "blue", "blue", "blue", "blue")
ggplot(saratoga_houses, aes(x=age_plus, y=Price)) +
  geom_point(aes(color=factor(Bathrooms), shape=factor(Bathrooms)), size=5) +
  scale_x_log10() +
  scale_y_log10() +
  scale_color_manual(values=binary_colors) + 
  scale_shape_manual(values=rep(c(1, 4), c(2, 6)))
quiet <- dev.off()
write(pd_text, file=paste0("../images/", fn, ".txt"))
```

![R graph using colors and shapes](../images/double-up.png)

<div class="notes">

It's okay to map a single variable to more than one aesthetic. In fact, this often helps emphasize that variable.

</div>

### Some restrictions
+ Shape is only good for categories
+ Shape and size don't mix

<div class="notes">

There are some practical limits to aesthetics of points. First, shape makes sense only for categorical data. If you have a large number of values, as is typical for a continuous variable, you run out of symbols before you run out of categories.

Also size and shape don't mix. You can really compare two diffent shapes, such as an X and an O on size. Is the size related to the diameter, the area, or the perimeter? There's no really good answer, so it's asking to much of a graph that asks you to decide which is larger among points represent different shapes. Either vary the shape or vary the size, but not both.

</div>

