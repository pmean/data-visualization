---
title: "Data-viz-03, Fundamentals"
author: "Steve Simon"
date: "Created: 2019-08-19"
output: powerpoint_presentation
---

```{r echo=FALSE}
knitr::opts_chunk$set(echo = FALSE)
source("../../common-files/setup.R")
```

```{r read-cpi}
fn <- "https://dasl.datadescription.com/download/data/3138"
cpi <- read_tsv(fn, col_types=cols())
cpi$t <- 2007 + (1:132)/12
cpi <- cpi[1:128, ]
```

### Aesthetics for lines
+ Location
+ Size
+ Shape (not what you think it is!)
+ Color

<div class="notes">

A line could mean a straight line or a curved line, a single line segment, a connected series of line segments or a polygon. It's a pretty complex thing, but generally a line represents a two dimensional relationship.

You can vary the size, shape, and color of a line. Shape is not what you think it is.

</div>

### Show different types and locations of lines

((Show a curved line, a straight line, a line segment, a series of line segments, and a polygon.))

### Size

```{r line-size}
initiate_image()
ggplot(cpi, aes(x=t, y=CPI)) +
  geom_line(size=8)
finalize_image()
```

`r display_image`

<div class="notes">



</div>

### Shape

```{r line-shape}
initiate_image()
ggplot(cpi, aes(x=t, y=CPI)) +
  geom_line(linetype="dotted")
finalize_image()
```

`r display_image`

<div class="notes">



</div>

### On your own
+ change the line to a dashed line.
+ Make the width equal to 3
+ Make the color green

### Wait before showing

((Python code))

```{}
# R code
ggplot(cpi, aes(x=t, y=CPI)) +
  geom_line(size=3, linetype="dashed", color="green")
```

((Tableau steps))

### What your visualization might look like

```{r width-shape-color}
initiate_image()
ggplot(cpi, aes(x=t, y=CPI)) +
  geom_line(size=3, linetype="dashed", color="green")
finalize_image()
```

`r display_image`

<div class="notes">



</div>


### Lines as summary statistics

```{r old-friend}
"https://dasl.datadescription.com/download/data/3275"
saratoga_houses <- read.table(fn, header=TRUE, sep="\x09")
initiate_image()
ggplot(saratoga_houses, aes(x=Bedrooms, y=Price)) +
  geom_point()
finalize_image()
```

`r display_image`

<div class="notes">



</div>

### Lines as averages

```{r average}
initiate_image()
saratoga_houses %>%
  group_by(Bedrooms) %>%
  summarize(avg_price=mean(Price)) %>%
  ggplot(aes(x=Bedrooms, y=avg_price)) +
    geom_line() + geom_point(size=5)
finalize_image()
```

`r display_image`

<div class="notes">



</div>

### Lines as counts

```{r count}
initiate_image()
saratoga_houses %>%
  group_by(Bedrooms) %>%
  summarize(n=n()) %>%
  ggplot(aes(x=Bedrooms, y=n)) +
    geom_line() + geom_point(size=5)
finalize_image()
```

`r display_image`

<div class="notes">



</div>

### On your own
+ Draw a line graph showing the relationship between the number of bathrooms and price.

### Wait before showing

((Add code here))

### What your visualization might look like

((Add visualization here))

### Boxplots

((Draw example and ask students to do a similar example))

### Trend lines (linear)

```{r linear-trend-age}
initiate_image()
ggplot(saratoga_houses, aes(Age, Price)) +
  geom_point() +
  geom_smooth(method="lm")
finalize_image()
```

`r display_image`

<div class="notes">



</div>

### Trend lines (spline)

```{r smooth-trend}
initiate_image()
ggplot(saratoga_houses, aes(Age, Price)) +
  geom_point() +
  geom_smooth(method="loess")
finalize_image()
```

`r display_image`

<div class="notes">



</div>

### Trend lines (spline), not so smooth

```{r smooth-trend-3}
initiate_image()
ggplot(saratoga_houses, aes(Age, Price)) +
  geom_point() +
  geom_smooth(method="loess", span=0.3)
finalize_image()
```

`r display_image`

<div class="notes">



</div>

### On your own
+ Fit a linear trend line looking at Living.Area versus Price.
+ Fit a smooth curve

### Wait before showing

### What your visualization might look like

```{r living-area-lm}
initiate_image()
ggplot(saratoga_houses, aes(x=Living.Area, y=Price)) +
  geom_point() +
  geom_smooth(method="lm")
finalize_image()
```

`r display_image`

<div class="notes">



</div>


### What your visualization might look like

```{r living-area-loess}
initiate_image()
ggplot(saratoga_houses, aes(x=Living.Area, y=Price)) +
  geom_point() +
  geom_smooth(method="loess")
finalize_image()
```

`r display_image`

<div class="notes">



</div>

### Trend lines (logistic)

((Need a different data set here. Titanic???))

### Helpful tips

((Add three or four slides here. Maybe talk about opacity.))

